<ion-header>
  <ion-navbar>
    <ion-title>
      Mängelliste
    </ion-title>
  </ion-navbar>
</ion-header>
<ion-content class="home" padding>
  <ion-list>  
    <ion-item>
      <ion-label>Datum: </ion-label>
      <ion-datetime displayFormat="DDDD MMM D, YYYY"  min="2000" max="2040" [(ngModel)]="currentDate"></ion-datetime>
    </ion-item>
    <ion-item>
      <ion-label>Lehrer/In:</ion-label>
      <ion-input type="text" placeholder="Lehrer/In:" [(ngModel)]="teacherName"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label>Raum:</ion-label>
      <ion-input type="text" placeholder="Raum" [(ngModel)]="roomName"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label>Geräte Nr.</ion-label>
      <ion-input type="text" [(ngModel)]="deviceNumber"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label>Gerätetyp:</ion-label>
      <ion-input type="text" [(ngModel)]="deviceType"></ion-input>
    </ion-item>
    <ion-item *ngIf="barcodeID !== ''">
      <ion-label>Barcode ID:</ion-label>
      <ion-label>{{barcodeID}}</ion-label>
    </ion-item>
    <ion-item *ngIf="deviceFoundInDatabase === true">
      <ion-label>Mängel:</ion-label>
    </ion-item>
    <ion-item *ngIf="deviceFoundInDatabase === true">
      <ion-textarea placeholder="Bitte beschreiben Sie die Mängel" [(ngModel)]="defectDescription"></ion-textarea>
    </ion-item>

    <!-- 
    <ion-item>
      <ion-label>Mobiliar fehlt/defekt:</ion-label>
      <ion-checkbox checked="false" [(ngModel)]="furnitureMissing"></ion-checkbox>
    </ion-item>
    <ion-item>
      <ion-label>Tafel fehlt/defekt:</ion-label>
      <ion-checkbox checked="false" [(ngModel)]="blackboardMissing"></ion-checkbox>
    </ion-item>
    <ion-item>
      <ion-label>OHP fehlt/defekt:</ion-label>
      <ion-checkbox checked="false" [(ngModel)]="ohpMissing"></ion-checkbox>
    </ion-item>
    <ion-item>
      <ion-label>Beamer fehlt/defekt:</ion-label>
      <ion-checkbox checked="false" [(ngModel)]="beamerMissing"></ion-checkbox>
    </ion-item>
    <ion-item>
      <ion-label>Fenster fehlt/defekt:</ion-label>
      <ion-checkbox checked="false" [(ngModel)]="windowMissing"></ion-checkbox>
    </ion-item>
    <ion-item>
      <ion-label>Raum verdreckt:</ion-label>
      <ion-checkbox checked="false" [(ngModel)]="roomDirty"></ion-checkbox>
    </ion-item>
    <ion-item>
      <ion-label>EDV-Räume:</ion-label>
    </ion-item>
    <ion-item>
      <ion-label>Drucker defekt</ion-label>
      <ion-checkbox checked="false" [(ngModel)]="printerBroken"></ion-checkbox>
    </ion-item>
    <ion-item>
      <ion-label>Computer defekt, Nr</ion-label>
      <ion-input type="text" [(ngModel)]="computerNumber"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label>Bildschirm defekt, Nr</ion-label>
      <ion-input type="text" [(ngModel)]="screenNumber"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label>Tastatur defekt, Nr</ion-label>
      <ion-input type="text" [(ngModel)]="keyboardNumber"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label>Maus defekt, Nr</ion-label>
      <ion-input type="text" [(ngModel)]="mouseNumber"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label>Gerät fehlt</ion-label>
      <ion-checkbox checked="false" [(ngModel)]="deviceMissing"></ion-checkbox>
    </ion-item>
    <ion-item *ngIf="deviceMissing === true">>
      <ion-input type="text" placeholder="Bitte näher erläutern:" [(ngModel)]="deviceMissingString"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label>Sonstige Mängel</ion-label>
      <ion-checkbox checked="false" [(ngModel)]="otherDefects"></ion-checkbox>
    </ion-item>
    <ion-item *ngIf="otherDefects === true">
      <ion-input type="text" placeholder="Bitte Mängel näher erläutern:"  [(ngModel)]="otherDefectsString"></ion-input>
    </ion-item> -->
  </ion-list>
  <ion-list>
    <button ion-button color="primary" (click)="scan()">Scan</button>
    <button *ngIf="deviceFoundInDatabase === false" ion-button color="primary" (click)="sendNewDevice()">Gerät speichern</button>
    <button *ngIf="deviceFoundInDatabase === true" ion-button color="primary" menuToggle (click)="sendData()">Senden</button>
  </ion-list>
  <ion-list *ngIf="debugViewEnabled === true">
    <ion-item *ngFor="let d of data">
      <h2>{{d.hwbc_id}}</h2>
      <p>{{d.hwbc_barcode}}</p>
      <p>{{d.hwbc_raum}}</p>
      <p>{{d.hwbc_geraetenr}}</p>
      <p>{{d.hwbc_geraetetyp}}</p>      
    </ion-item>
  </ion-list>
</ion-content>
